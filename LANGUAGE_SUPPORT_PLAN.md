# Language Support Plan for GnawTreeWriter

**Current Status:** 11 languages supported
**Goal:** Add 6-8 more high-value languages before 1.0 release

---

## Currently Supported (v0.3.3)

| Language    | Extension(s)     | Parser Type      | Status |
|-------------|------------------|------------------|--------|
| Python      | `.py`            | TreeSitter       | ‚úÖ Full |
| Rust        | `.rs`            | TreeSitter       | ‚úÖ Full |
| TypeScript  | `.ts`, `.tsx`    | TreeSitter       | ‚úÖ Full |
| JavaScript  | `.js`, `.jsx`    | TreeSitter       | ‚úÖ Full |
| PHP         | `.php`           | TreeSitter       | ‚úÖ Full |
| HTML        | `.html`          | TreeSitter       | ‚úÖ Full |
| QML         | `.qml`           | TreeSitter       | ‚úÖ Full |
| Go          | `.go`            | TreeSitter       | ‚úÖ Full |
| CSS         | `.css`           | Custom           | ‚úÖ Full |
| YAML        | `.yaml`, `.yml`  | Serde            | ‚úÖ Full |
| TOML        | `.toml`          | Serde            | ‚úÖ Full |
| XML         | `.xml`           | xmltree          | ‚úÖ Full |
| Markdown    | `.md`            | pulldown-cmark   | ‚úÖ Full |
| Text        | `.txt`           | Line-based       | ‚úÖ Full |
| Generic     | `*` (fallback)   | Single-node      | ‚úÖ Full |

---

## Priority 1: Essential System Languages (Add First)

### C - High Priority üî¥
**Crate:** `tree-sitter-c = "0.24"`
**Extensions:** `.c`, `.h`
**Rationale:**
- Foundation of most systems programming
- Huge existing codebase
- Often modified by developers using AI
- Essential for low-level work

**Effort:** Low (TreeSitter available)

### C++ - High Priority üî¥
**Crate:** `tree-sitter-cpp = "0.23"`
**Extensions:** `.cpp`, `.hpp`, `.cc`, `.cxx`, `.h`
**Rationale:**
- Widely used in systems, games, performance-critical apps
- Large codebases need refactoring tools
- Complement to C support

**Effort:** Low (TreeSitter available)

### Bash/Shell - High Priority üî¥
**Crate:** `tree-sitter-bash = "0.25"`
**Extensions:** `.sh`, `.bash`
**Rationale:**
- DevOps and automation scripts everywhere
- Often needs editing for deployment
- Commonly generated by AI

**Effort:** Low (TreeSitter available)

---

## Priority 2: Popular Application Languages

### Java - Medium Priority üü°
**Crate:** `tree-sitter-java = "0.23"`
**Extensions:** `.java`
**Rationale:**
- Extremely popular enterprise language
- Android development
- Large codebases benefit from AST editing

**Effort:** Low (TreeSitter available)

### Kotlin - Medium Priority üü°
**Crate:** `tree-sitter-kotlin = "0.3"`
**Extensions:** `.kt`, `.kts`
**Rationale:**
- Modern Android development
- Growing in backend (Spring Boot)
- Pair with Java support

**Effort:** Low (TreeSitter available)

### Swift - Medium Priority üü°
**Crate:** `tree-sitter-swift = "0.6"`
**Extensions:** `.swift`
**Rationale:**
- iOS/macOS development
- Growing serverside usage
- Apple ecosystem

**Effort:** Low (TreeSitter available)

---

## Priority 3: Data & Config Languages

### JSON - Low Priority üü¢
**Crate:** `tree-sitter-json = "0.24"`
**Extensions:** `.json`
**Rationale:**
- Already have serde_json for basic needs
- TreeSitter gives better node-level editing
- Extremely common config format

**Effort:** Very Low (TreeSitter available)
**Note:** Already commented out in Cargo.toml, just needs enabling

### SQL - Medium Priority üü°
**Crate:** `tree-sitter-sql` (multiple variants)
**Extensions:** `.sql`
**Rationale:**
- Database queries everywhere
- Schema modifications
- Multiple dialects (PostgreSQL, MySQL, SQLite)

**Effort:** Medium (need to choose dialect or support multiple)

---

## Priority 4: Emerging & Specialized

### Zig - Low Priority üü¢
**Crate:** `tree-sitter-zig = "1.0"`
**Extensions:** `.zig`
**Rationale:**
- Growing systems language
- Alternative to C/C++
- Modern syntax

**Effort:** Low (TreeSitter available)

### Lua - Low Priority üü¢
**Crate:** `tree-sitter-lua = "0.2"`
**Extensions:** `.lua`
**Rationale:**
- Game scripting (Roblox, WoW, etc.)
- Embedded scripting
- Configuration (Neovim)

**Effort:** Low (TreeSitter available)

### Ruby - Medium Priority üü°
**Crate:** `tree-sitter-ruby = "0.21"`
**Extensions:** `.rb`
**Rationale:**
- Rails ecosystem
- DevOps tools (Chef, Puppet)
- Scripting

**Effort:** Low (TreeSitter available)

---

## Recommended Roadmap

### Phase 1: Essential Languages (v0.4.0)
**Target:** 3 languages, 2 weeks

1. **C** - `tree-sitter-c`
2. **C++** - `tree-sitter-cpp`
3. **Bash** - `tree-sitter-bash`

**Impact:** Covers most system-level development

### Phase 2: Popular Languages (v0.5.0)
**Target:** 3 languages, 2 weeks

4. **Java** - `tree-sitter-java`
5. **Kotlin** - `tree-sitter-kotlin`
6. **JSON** - `tree-sitter-json` (enable existing)

**Impact:** Covers enterprise and mobile development

### Phase 3: Additional Languages (v0.6.0)
**Target:** 2-3 languages, flexible

7. **Swift** - `tree-sitter-swift`
8. **Ruby** - `tree-sitter-ruby`
9. **SQL** - `tree-sitter-sql` (PostgreSQL dialect)

**Impact:** Broadens coverage, niche but valuable

### Phase 4: Long-tail (Post 1.0)
- Lua
- Zig
- Elixir
- Haskell
- OCaml
- Others based on user requests

---

## Implementation Template

For each new language, follow this checklist:

### Development
- [ ] Add dependency to `Cargo.toml`
- [ ] Create `src/parser/{language}.rs`
- [ ] Implement `ParserEngine` trait
- [ ] Add extension mapping in `src/parser/mod.rs`
- [ ] Add language detection logic

### Testing
- [ ] Create `examples/example.{ext}`
- [ ] Create `tests/test_{language}.rs`
- [ ] Test basic operations (analyze, edit, insert, delete)
- [ ] Test edge cases (empty files, complex nesting)

### Documentation
- [ ] Update `README.md` supported languages list
- [ ] Add examples to `docs/` if needed
- [ ] Update `CHANGELOG.md`
- [ ] Add to language detection help text

---

## Language Statistics (GitHub 2024)

Popularity ranking for reference:

1. **JavaScript** ‚úÖ (already supported)
2. **Python** ‚úÖ (already supported)
3. **Java** ‚è≥ (planned)
4. **TypeScript** ‚úÖ (already supported)
5. **C#** ‚ö†Ô∏è (consider for future)
6. **C++** ‚è≥ (planned)
7. **PHP** ‚úÖ (already supported)
8. **C** ‚è≥ (planned)
9. **Shell** ‚è≥ (planned)
10. **Go** ‚úÖ (already supported)
11. **Rust** ‚úÖ (already supported)
12. **Ruby** ‚è≥ (planned)
13. **Kotlin** ‚è≥ (planned)
14. **Swift** ‚è≥ (planned)

**Coverage after Phase 2:** Top 14 languages = 86% coverage

---

## Version Milestones

### v0.4.0 - System Languages
- C, C++, Bash
- **Total:** 18 languages

### v0.5.0 - Enterprise Languages  
- Java, Kotlin, JSON (TreeSitter)
- **Total:** 21 languages

### v0.6.0 - Additional Coverage
- Swift, Ruby, SQL
- **Total:** 24 languages

### v1.0.0 - Production Ready
- Polish existing languages
- Comprehensive test coverage
- Performance optimization
- **Total:** 24-25 languages

---

## Quality Over Quantity

**Philosophy:** Better to have 20 well-supported languages than 50 half-working ones.

**For each language, we ensure:**
- ‚úÖ Full AST parsing
- ‚úÖ Accurate node paths
- ‚úÖ Edit/Insert/Delete operations work
- ‚úÖ Test coverage
- ‚úÖ Example files
- ‚úÖ Documentation

---

## Community Requests

Track user requests here:
- [ ] C# (.NET ecosystem)
- [ ] Scala (JVM ecosystem)
- [ ] Dart (Flutter)
- [ ] R (Data science)
- [ ] Julia (Scientific computing)
- [ ] Elixir (Phoenix framework)

---

## Notes

- All TreeSitter parsers are mature and well-maintained
- Version numbers may need updates when implementing
- Some languages have multiple dialects (SQL, Shell variants)
- Consider user feedback before Phase 3+

---

**Created:** 2025-01-02
**Status:** Planning document for language expansion