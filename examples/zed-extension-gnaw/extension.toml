id = "gnaw-treewriter-mcp"
name = "GnawTreeWriter (MCP) â€” Dev"
version = "0.1.0"
schema_version = 1
authors = ["Tuulikk <tuulikk@example.com>"]
description = "Dev extension that exposes a local GnawTreeWriter MCP server as a context server in Zed."
repository = "https://github.com/Tuulikk/GnawTreeWriter"
license = "MPL-2.0"

# Register a context server that will appear in Zed's Agent / Context Server panel.
# The key name (gnawtreewriter) is the context server id used by the extension implementation.
[context_servers.gnawtreewriter]
title = "GnawTreeWriter (local)"
description = "Start a local GnawTreeWriter MCP server for project analysis and quick testing."

# Optional: Informational hint for maintainers. The actual startup command should be returned
# programmatically by the extension's `context_server_command` implementation in Rust.
# This is only a hint and not used by Zed to launch the server automatically.
command = ["./scripts/mcp-serve.sh", "--addr", "127.0.0.1:8080", "--token", "secret"]

# Slash commands exposed by this extension (available via the Assistant / Command Palette)
# These provide terminal-like controls for operators and guarantee the extension attempts to
# run and produce logs/output that are visible to the user.
[slash_commands.toggle]
description = "Toggle the GnawTreeWriter MCP server (if running, stop; otherwise, start)."
requires_argument = false

[slash_commands.diagnose]
description = "Run diagnostics (check script presence, permissions, and show recent log lines)."
requires_argument = false
